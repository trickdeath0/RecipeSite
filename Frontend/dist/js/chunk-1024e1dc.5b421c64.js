(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1024e1dc"],{37906:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{attrs:{id:"background"}}),r("h1",{staticClass:"title"},[e._v("Search Page")]),r("form",{staticClass:"search-form",on:{submit:function(t){return t.preventDefault(),e.Search(t)}}},[e.$root.store.username?r("div",{staticClass:"form-group"},[r("label",{staticClass:"search-url",attrs:{for:"search-url"}},[e._v("Your last search was: "+e._s(e.lastSearchUrl))])]):e._e(),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"query"}},[e._v("Query to cook:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.query,expression:"formData.query"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Enter search query","aria-label":"Search",id:"query"},domProps:{value:e.formData.query},on:{input:function(t){t.target.composing||e.$set(e.formData,"query",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"cuisine"}},[e._v("Cuisine:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.cuisine,expression:"formData.cuisine"}],staticClass:"form-control",attrs:{id:"cuisine"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"cuisine",t.target.multiple?r:r[0])}}},e._l(e.options.cuisine,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"diet"}},[e._v("Diet:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.diet,expression:"formData.diet"}],staticClass:"form-control",attrs:{id:"diet"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"diet",t.target.multiple?r:r[0])}}},e._l(e.options.diet,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"intolerance"}},[e._v("Intolerance:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.intolerance,expression:"formData.intolerance"}],staticClass:"form-control",attrs:{id:"intolerance"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"intolerance",t.target.multiple?r:r[0])}}},e._l(e.options.intolerance,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"amount-of-results"}},[e._v("Amount of results:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.AmountOfResults,expression:"formData.AmountOfResults"}],staticClass:"form-control",attrs:{id:"amount-of-results"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"AmountOfResults",t.target.multiple?r:r[0])}}},e._l(e.options.AmountOfResults,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"sort-form-group"},[r("label",[e._v("Sort results by:")]),r("div",{staticClass:"sort-options"},e._l(e.sortOptions,(function(t){return r("b-form-radio",{key:t.value,attrs:{name:"sort-radios-"+t.value,value:t.value},model:{value:e.formData.sort,callback:function(t){e.$set(e.formData,"sort",t)},expression:"formData.sort"}},[e._v(" "+e._s(t.label)+" ")])})),1)]),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Search")])]),r("div",{staticClass:"grid"},[r("ExternalRecipesGridCards",{attrs:{recipesArray:e.recipes}}),e.noRecipesFound?r("div",{staticClass:"no-recipes-message"},[r("p",{staticClass:"message-text"},[e._v("Oops! No recipes found ðŸ˜¥")]),r("p",{staticClass:"message-description"},[e._v("Please try adjusting your search criteria.")])]):e._e()],1)])},o=[],n=(r("4160"),r("4e82"),r("159b"),r("2909")),s=(r("96cf"),r("1da1")),i=r("8a60"),l={components:{ExternalRecipesGridCards:i["a"]},name:"SearchPage",data:function(){return{formData:{query:"",cuisine:void 0,diet:void 0,intolerance:void 0,fillIngredients:!1,addRecipeInformation:!1,AmountOfResults:5,sort:""},recipes:[],options:{cuisine:["","African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],diet:["","Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Whole30"],intolerance:["","Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],AmountOfResults:[5,10,15]},lastSearchUrl:"",noRecipesFound:!1}},mounted:function(){if(this.$root.store.username){var e=localStorage.getItem("search_url_");this.lastSearchUrl=e}else this.lastSearchUrl="",this.$root.store.search_url_=""},computed:{sortOptions:function(){return[{label:"Popularity",value:"popularity"},{label:"Time",value:"time"}]},recipeLines:function(){var e=this,t=3,r=[],a=[];return this.recipes.forEach((function(o,n){a.push(o),a.length!==t&&n!==e.recipes.length-1||(r.push(a),a=[])})),r}},methods:{getURLElement:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="",void 0!==e.formData.query&&""!==e.formData.query&&(r+="query="+e.formData.query),""!==e.formData.AmountOfResults&&(r+=" AmountOfResults="+e.formData.AmountOfResults),void 0!==e.formData.cuisine&&""!==e.formData.cuisine&&(r+=" cuisine="+e.formData.cuisine),void 0!==e.formData.diet&&""!==e.formData.diet&&(r+=" diet="+e.formData.diet),void 0!==e.formData.intolerance&&""!==e.formData.intolerance&&(r+=" intolerance="+e.formData.intolerance),""!==e.formData.sort&&(r+=" sort="+e.formData.sort),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))()},Search:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.recipes=[],t.next=4,e.axios.post(e.$root.store.server_domain+"/recipes/search",{query:e.formData.query,number:e.formData.AmountOfResults,cuisine:e.formData.cuisine,diet:e.formData.diet,intolerance:e.formData.intolerance,fillIngredients:e.formData.fillIngredients,addRecipeInformation:e.formData.addRecipeInformation,sort:e.formData.sort},{withCredentials:!0});case 4:return r=t.sent,0===r.data.length?e.noRecipesFound=!0:((a=e.recipes).push.apply(a,Object(n["a"])(r.data)),e.noRecipesFound=!1),t.next=8,e.getURLElement();case 8:e.lastSearchUrl=t.sent,e.$root.store.username?e.$root.store.last_search(e.lastSearchUrl):(e.lastSearchUrl="",e.$root.store.search_url_=""),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},c=l,u=(r("b40d"),r("2877")),m=Object(u["a"])(c,a,o,!1,null,"6a8dc04d",null);t["default"]=m.exports},"4e82":function(e,t,r){"use strict";var a=r("23e7"),o=r("1c0b"),n=r("7b0b"),s=r("d039"),i=r("a640"),l=[],c=l.sort,u=s((function(){l.sort(void 0)})),m=s((function(){l.sort(null)})),f=i("sort"),p=u||!m||!f;a({target:"Array",proto:!0,forced:p},{sort:function(e){return void 0===e?c.call(n(this)):c.call(n(this),o(e))}})},"6d93":function(e,t,r){},"8a60":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"external-recipes-grid-cards",staticStyle:{width:"80rem"}},e._l(e.recipeLines,(function(t,a){return r("b-row",{key:a,staticClass:"recipe-line"},e._l(t,(function(e){return r("b-col",{key:e.id},[r("br"),r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)})),1)},o=[],n=(r("4160"),r("159b"),r("832a")),s={name:"ExternalRecipesGridCards",components:{RecipePreview:n["a"]},props:{recipesArray:{type:Array,required:!0}},computed:{recipeLines:function(){var e=this,t=3,r=[],a=[];return this.recipesArray.forEach((function(o,n){a.push(o),a.length!==t&&n!==e.recipesArray.length-1||(r.push(a),a=[])})),console.log("recipeLines"),console.log(r),r}}},i=s,l=r("2877"),c=Object(l["a"])(i,a,o,!1,null,"63037a82",null);t["a"]=c.exports},b40d:function(e,t,r){"use strict";var a=r("6d93"),o=r.n(a);o.a}}]);
//# sourceMappingURL=chunk-1024e1dc.5b421c64.js.map